<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Card√°pio Interativo</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Arial,sans-serif;background:#f5f5f5;display:flex;flex-direction:column;align-items:center;padding:10px}
.cardapio{background:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 15px rgba(0,0,0,0.2);max-width:500px;width:100%;margin-bottom:20px}
.logo-container{display:flex;align-items:center;justify-content:flex-start;margin-bottom:20px}
.logo-container img{height:60px;margin-right:15px;border-radius:8px}
.titulo-container h1{font-size:1.5rem;color:#007BFF;margin-bottom:5px}
.titulo-container h2{font-size:1.1rem;color:#555;font-weight:normal}
.titulo-container h3{font-size:1rem;margin-bottom:10px;color:#333}
ul{list-style:none;padding:0}
li{margin:5px 0;cursor:pointer;display:flex;align-items:center;padding:6px 10px;border-radius:8px;transition:background 0.2s}
li:hover{background:#f0f0f0}
.checkbox-fake{width:22px;height:22px;border:2px solid #007BFF;display:flex;align-items:center;justify-content:center;margin-right:10px;border-radius:4px;font-weight:bold;color:#fff;background:#007BFF;opacity:0;transition:opacity 0.2s,transform 0.2s;flex-shrink:0}
li.selected .checkbox-fake{opacity:1;transform:scale(1.1)}
li span{flex:1}
#adicionais,input[type="text"],select{width:100%;padding:8px;margin-top:8px;border-radius:6px;border:1px solid #ccc}
#enviarWhats{margin-top:12px;padding:10px;background:#25D366;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:bold;width:100%;font-size:1rem}
label{display:block;margin-bottom:6px;cursor:pointer}
.marmita-options label{display:block;margin-bottom:8px;cursor:pointer}
.marmita-options input{margin-right:8px}
</style>
</head>
<body>

<div class="cardapio">
  <div class="logo-container">
    <img src="logo.png" alt="Logo Restaurante">
    <div class="titulo-container">
      <h1>Restaurante Colinas</h1>
      <h2>Card√°pio de Hoje ‚Äì <span id="diaSemana"></span>, <span id="dataHoje"></span></h2>
      <h3 id="horarioFuncionamento">Hor√°rio: 11:00 - 14:00</h3>
    </div>
  </div>

  <h3>üçñ Carnes</h3>
  <ul id="carnes">
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Frango Grelhado</span></li>
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Bife Acebolado</span></li>
  </ul>

  <h3>ü•ó Acompanhamentos</h3>
  <ul id="acompanhamentos">
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Arroz</span></li>
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Feij√£o</span></li>
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Salada</span></li>
  </ul>

  <h3>ü•§ Refrigerantes</h3>
  <ul id="refrigerantes">
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Coca-Cola</span></li>
    <li onclick="toggleItem(this)"><div class="checkbox-fake">‚úî</div><span>Guaran√°</span></li>
  </ul>

  <h3>Adicionais:</h3>
  <input type="text" id="adicionais" placeholder="Digite adicionais">

  <div class="cliente-info">
    <label for="nomeCliente">Nome do Cliente:</label>
    <input type="text" id="nomeCliente" placeholder="Digite seu nome">
  </div>

  <button id="enviarWhats">Enviar via WhatsApp</button>
</div>

<script>
function toggleItem(li){
  li.classList.toggle('selected');
}

document.getElementById('enviarWhats').addEventListener('click', async () => {
  const { jsPDF } = window.jspdf;
  const nome = document.getElementById('nomeCliente').value.trim();
  if (!nome){ alert('Digite o nome do cliente.'); return; }

  const selecionados = [...document.querySelectorAll('li.selected span')].map(s=>s.textContent);
  const adicionais = document.getElementById('adicionais').value;

  const doc = new jsPDF();
  doc.setFontSize(14);
  doc.text("Pedido - Restaurante Colinas", 10, 15);
  doc.setFontSize(12);
  doc.text("Cliente: " + nome, 10, 30);
  doc.text("Itens:", 10, 45);
  let y = 55;
  selecionados.forEach(item=>{
    doc.text("- " + item, 15, y);
    y += 7;
  });
  if(adicionais){
    doc.text("Adicionais: " + adicionais, 10, y+5);
  }

  // Cria o arquivo PDF e baixa localmente
  const pdfBlob = doc.output('blob');
  const pdfURL = URL.createObjectURL(pdfBlob);
  const a = document.createElement('a');
  a.href = pdfURL;
  a.download = `pedido_${nome}.pdf`;
  a.click();

  // Abre o WhatsApp Web com o n√∫mero do restaurante
  const numeroRestaurante = "5599999999999"; // <-- coloque o n√∫mero do restaurante com DDI e DDD
  window.open(`https://wa.me/${numeroRestaurante}?text=Ol√°,%20segue%20em%20anexo%20o%20pedido%20de%20${encodeURIComponent(nome)}.%20(O%20arquivo%20PDF%20foi%20baixado%20automaticamente%20no%20seu%20dispositivo)`, "_blank");
});
</script>

</body>
</html>
